(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();let p=["far-past","past","current","next","far-next"],M=15,a,c;typeof document<"u"&&!("classList"in document.createElement("a"))&&function(e){let t="classList",o="prototype",i=(e.HTMLElement||e.Element)[o],r=Object;if(strTrim=String[o].trim||function(){return this.replace(/^\s+|\s+$/g,"")},arrIndexOf=Array[o].indexOf||function(n){for(let s=0,m=this.length;s<m;s++)if(s in this&&this[s]===n)return s;return-1},DOMEx=function(n,s){this.name=n,this.code=DOMException[n],this.message=s},checkTokenAndGetIndex=function(n,s){if(s==="")throw new DOMEx("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(s))throw new DOMEx("INVALID_CHARACTER_ERR","String contains an invalid character");return arrIndexOf.call(n,s)},ClassList=function(n){let s=strTrim.call(n.className),m=s?s.split(/\s+/):[];for(let v=0,w=m.length;v<w;v++)this.push(m[v]);this._updateClassName=function(){n.className=this.toString()}},classListProto=ClassList[o]=[],classListGetter=function(){return new ClassList(this)},DOMEx[o]=Error[o],classListProto.item=function(n){return this[n]||null},classListProto.contains=function(n){return n+="",checkTokenAndGetIndex(this,n)!==-1},classListProto.add=function(n){n+="",checkTokenAndGetIndex(this,n)===-1&&(this.push(n),this._updateClassName())},classListProto.remove=function(n){n+="";let s=checkTokenAndGetIndex(this,n);s!==-1&&(this.splice(s,1),this._updateClassName())},classListProto.toggle=function(n){n+="",checkTokenAndGetIndex(this,n)===-1?this.add(n):this.remove(n)},classListProto.toString=function(){return this.join(" ")},r.defineProperty){let n={get:classListGetter,enumerable:!0,configurable:!0};try{r.defineProperty(i,t,n)}catch(s){s.number===-2146823252&&(n.enumerable=!1,r.defineProperty(i,t,n))}}else r[o].__defineGetter__&&i.__defineGetter__(t,classListGetter)}(self);function f(e){return e<0||e>=c.length?null:c[e]}function u(e,t){let o=f(e);if(!!o){t&&o.classList.add(t);for(let i in p)t!=p[i]&&o.classList.remove(p[i])}}function x(){for(let e=0;e<c.length;e++)switch(e){case a-2:u(e,"far-past");break;case a-1:u(e,"past");break;case a:u(e,"current");break;case a+1:u(e,"next");break;case a+2:u(e,"far-next");break;default:u(e);break}V(a-1),O(a),window.setTimeout(()=>{P(a-2)},301),d(a-1),d(a+2),l()&&N(c[a]),B()}function A(){let e=c[a].querySelectorAll(".to-build");return e.length?(e[0].classList.remove("to-build"),l()&&N(e[0]),!0):!1}function h(){a>0&&(a--,x())}function g(){A()||a<c.length-1&&(a++,x())}function O(e){let t=f(e);if(!t)return;let o=t.getAttribute("onslideenter");o&&new Function(o).call(t);let i=document.createEvent("Event");i.initEvent("slideenter",!0,!0),i.slideNumber=e+1,t.dispatchEvent(i)}function V(e){let t=f(e);if(!t)return;let o=t.getAttribute("onslideleave");o&&new Function(o).call(t);let i=document.createEvent("Event");i.initEvent("slideleave",!0,!0),i.slideNumber=e+1,t.dispatchEvent(i)}function I(e){e.touches.length==1&&(touchDX=0,touchDY=0,touchStartX=e.touches[0].pageX,touchStartY=e.touches[0].pageY,document.body.addEventListener("touchmove",E,!0),document.body.addEventListener("touchend",L,!0))}function E(e){e.touches.length>1?b():(touchDX=e.touches[0].pageX-touchStartX,touchDY=e.touches[0].pageY-touchStartY)}function L(e){let t=Math.abs(touchDX),o=Math.abs(touchDY);t>M&&o<t*2/3&&(touchDX>0?h():g()),b()}function b(){document.body.removeEventListener("touchmove",E,!0),document.body.removeEventListener("touchend",L,!0)}function P(e){let t=f(e);if(!t)return;let o=t.getElementsByTagName("iframe");for(var i=0,r;r=o[i];i++)S(r)}function d(e){let t=f(e);if(!t)return;let o=t.getElementsByTagName("iframe");for(var i=0,r;r=o[i];i++)_(r)}function S(e){e.src="about:blank"}function _(e){let t=e._src;e.src!=t&&t!="about:blank"&&(e.src=t)}function k(){let e=document.querySelectorAll("iframe");for(var t=0,o;o=e[t];t++)o._src=o.src,S(o);d(a),d(a+1),d(a+2)}function G(){var e=document.createElement("div");e.className="slide-area",e.id="prev-slide-area",e.addEventListener("click",h,!1),document.querySelector("section.slides").appendChild(e);var e=document.createElement("div");e.className="slide-area",e.id="next-slide-area",e.addEventListener("click",g,!1),document.querySelector("section.slides").appendChild(e),document.body.addEventListener("touchstart",I,!1)}function l(){return!(typeof cvox>"u")}function N(e){if(!l())return;cvox.ChromeVox.navigationManager.switchToStrategy(cvox.ChromeVoxNavigationManager.STRATEGIES.LINEARDOM,0,!0),cvox.ChromeVox.navigationManager.syncToNode(e),cvox.ChromeVoxUserCommands.finishNavCommand("");let t=e;for(;t.firstChild;)t=t.firstChild;cvox.ChromeVox.navigationManager.syncToNode(t)}function R(){if(!!l()){if(cvox.ChromeVox.navigationManager.switchToStrategy(cvox.ChromeVoxNavigationManager.STRATEGIES.LINEARDOM,0,!0),cvox.ChromeVox.navigationManager.next(!0),!cvox.DomUtil.isDescendantOfNode(cvox.ChromeVox.navigationManager.getCurrentNode(),c[a])){let e=c[a];for(;e.firstChild;)e=e.firstChild;cvox.ChromeVox.navigationManager.syncToNode(e),cvox.ChromeVox.navigationManager.next(!0)}cvox.ChromeVoxUserCommands.finishNavCommand("")}}function q(){if(!!l()){if(cvox.ChromeVox.navigationManager.switchToStrategy(cvox.ChromeVoxNavigationManager.STRATEGIES.LINEARDOM,0,!0),cvox.ChromeVox.navigationManager.previous(!0),!cvox.DomUtil.isDescendantOfNode(cvox.ChromeVox.navigationManager.getCurrentNode(),c[a])){let e=c[a];for(;e.lastChild;)e=e.lastChild;cvox.ChromeVox.navigationManager.syncToNode(e),cvox.ChromeVox.navigationManager.previous(!0)}cvox.ChromeVoxUserCommands.finishNavCommand("")}}function F(){let e=parseInt(location.hash.substr(1));e?a=e-1:a=0}function B(){location.replace(`#${a+1}`)}function U(e){switch(e.keyCode){case 39:case 13:case 32:case 34:g(),e.preventDefault();break;case 37:case 8:case 33:h(),e.preventDefault();break;case 40:l()?R():g(),e.preventDefault();break;case 38:l()?q():h(),e.preventDefault();break}}function X(){document.addEventListener("keydown",U,!1)}function Y(){for(var e=a,t;t=c[e];e++){let r=t.querySelectorAll(".build > *");for(var o=0,i;i=r[o];o++)i.classList&&i.classList.add("to-build")}}function y(){c=document.querySelectorAll("section.slides > article"),k(),X(),x(),G(),Y(),document.body.classList.add("loaded")}function j(){F(),window._DCL?y():document.addEventListener("DOMContentLoaded",y,!1)}if(!window._DEBUG&&document.location.href.indexOf("?debug")!==-1){document.addEventListener("DOMContentLoaded",function(){window._DCL=!0},!1),window._DEBUG=!0;let e=document.createElement("script");e.type="text/javascript",e.src="../slides.js";let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t)}else j();document.querySelector("body");getComputedStyle(document.documentElement).getPropertyValue("--fogColor1");getComputedStyle(document.documentElement).getPropertyValue("--fogColor3");getComputedStyle(document.documentElement).getPropertyValue("--fogColor5");const C=getComputedStyle(document.documentElement);Object.fromEntries(Object.values(C).filter(e=>e.startsWith("--")).map(e=>[e.replace("--",""),C.getPropertyValue(e)]));async function H(e){for(;document.querySelector(e)===null;)await new Promise(t=>requestAnimationFrame(t));return document.querySelector(e)}async function $(){const e=await H("#trunk canvas.p5Canvas");navigator.userAgent.toLowerCase().indexOf("firefox")>-1?(document.body.classList.add("firefox"),T(e)):D(e)}async function D(e){console.log("painting");const t=e.toDataURL();document.documentElement.style.setProperty("--image",`url(${t})`),requestAnimationFrame(()=>D(e))}async function T(e){console.log("painting"),e.toBlob(async t=>{const o=URL.createObjectURL(t);document.documentElement.style.setProperty("--image",`url(${o})`),requestAnimationFrame(()=>T(e))})}$();
